# This file was automatically generated by Dist::Zilla::Plugin::MakeMaker v6.024.
use strict;
use warnings;

use ExtUtils::MakeMaker;

use File::ShareDir::Install;
$File::ShareDir::Install::INCLUDE_DOTFILES = 1;
$File::ShareDir::Install::INCLUDE_DOTDIRS  = 1;
install_share dist => "root";

my %WriteMakefileArgs = (
    "ABSTRACT"           => "Network monitoring application",
    "AUTHOR"             => "Gabriele Mambrini <gmambro\@cpan.org>, Enrico Liguori",
    "CONFIGURE_REQUIRES" => {
        "CPAN::Meta::Requirements" => "2.120620",
        "ExtUtils::MakeMaker"      => 0,
        "File::ShareDir::Install"  => "0.06",
        "Module::Metadata"         => 0
    },
    "DISTNAME"  => "App-Manoc",
    "LICENSE"   => "perl",
    "NAME"      => "App::Manoc",
    "PREREQ_PM" => {
        "Archive::Tar"                                 => "2.32",
        "Catalyst::Action::RenderView"                 => "0.16",
        "Catalyst::Authentication::Credential::HTTP"   => "1.018",
        "Catalyst::Authentication::Store::DBIx::Class" => "0.1506",
        "Catalyst::Plugin::ConfigLoader"               => "0.34",
        "Catalyst::Plugin::Session"                    => "0.41",
        "Catalyst::Plugin::Session::State::Cookie"     => "0.17",
        "Catalyst::Plugin::Session::Store::DBI"        => "0.16",
        "Catalyst::Plugin::StackTrace"                 => "0.12",
        "Catalyst::Plugin::Static::Simple"             => "0.35",
        "Catalyst::Runtime"                            => "5.90123",
        "Catalyst::View::CSV"                          => "1.7",
        "Catalyst::View::JSON"                         => "0.36",
        "Catalyst::View::TT"                           => "0.44",
        "Class::Load"                                  => "0.24",
        "Config::General"                              => "2.63",
        "Config::ZOMG"                                 => "1.0",
        "Crypt::Eksblowfish::Bcrypt"                   => "0.009",
        "DBD::SQLite"                                  => "1.58",
        "DBI"                                          => "1.641",
        "DBIx::Class"                                  => "0.082841",
        "DBIx::Class::EncodedColumn"                   => "0.00015",
        "DBIx::Class::Helpers"                         => "2.033004",
        "DBIx::Class::Tree"                            => "0.03003",
        "DateTime::Format::RFC3339"                    => "1.2.0",
        "Digest::SHA1"                                 => "2.13",
        "HTML::FormHandler"                            => "0.40068",
        "HTML::FormHandler::Model::DBIC"               => "0.29",
        "JSON"                                         => "4.05",
        "Log::Log4perl"                                => "1.49",
        "Module::Runtime"                              => "0.015",
        "Moose"                                        => "2.2011",
        "MooseX::Daemonize"                            => "0.21",
        "MooseX::Getopt"                               => "0.72",
        "MooseX::Storage"                              => "0.52",
        "MooseX::Workers"                              => "0.24",
        "Net::NBName"                                  => "0.26",
        "Net::OpenSSH"                                 => "0.77",
        "Net::SNMP"                                    => "6.0.1",
        "POE"                                          => "1.370",
        "Plack::Middleware::ReverseProxy"              => "0.15",
        "Regexp::Common"                               => "2017060201",
        "SQL::Translator"                              => "0.11024",
        "Test::Deep"                                   => "1.128",
        "Text::CSV"                                    => "1.97",
        "YAML::Syck"                                   => "1.30",
        "namespace::autoclean"                         => "0.28"
    },
    "TEST_REQUIRES" => {
        "File::Spec"                     => 0,
        "IO::Handle"                     => 0,
        "IPC::Open3"                     => 0,
        "Test::More"                     => 0,
        "Test::WWW::Mechanize::Catalyst" => "0.60"
    },
    "VERSION" => "2.99.5",
    "test"    => {
        "TESTS" => "t/*.t t/controller/*.t t/controller/api/*.t t/model/*.t"
    }
);

my %FallbackPrereqs = (
    "Archive::Tar"                                 => "2.32",
    "Catalyst::Action::RenderView"                 => "0.16",
    "Catalyst::Authentication::Credential::HTTP"   => "1.018",
    "Catalyst::Authentication::Store::DBIx::Class" => "0.1506",
    "Catalyst::Plugin::ConfigLoader"               => "0.34",
    "Catalyst::Plugin::Session"                    => "0.41",
    "Catalyst::Plugin::Session::State::Cookie"     => "0.17",
    "Catalyst::Plugin::Session::Store::DBI"        => "0.16",
    "Catalyst::Plugin::StackTrace"                 => "0.12",
    "Catalyst::Plugin::Static::Simple"             => "0.35",
    "Catalyst::Runtime"                            => "5.90123",
    "Catalyst::View::CSV"                          => "1.7",
    "Catalyst::View::JSON"                         => "0.36",
    "Catalyst::View::TT"                           => "0.44",
    "Class::Load"                                  => "0.24",
    "Config::General"                              => "2.63",
    "Config::ZOMG"                                 => "1.0",
    "Crypt::Eksblowfish::Bcrypt"                   => "0.009",
    "DBD::SQLite"                                  => "1.58",
    "DBI"                                          => "1.641",
    "DBIx::Class"                                  => "0.082841",
    "DBIx::Class::EncodedColumn"                   => "0.00015",
    "DBIx::Class::Helpers"                         => "2.033004",
    "DBIx::Class::Tree"                            => "0.03003",
    "DateTime::Format::RFC3339"                    => "1.2.0",
    "Digest::SHA1"                                 => "2.13",
    "File::Spec"                                   => 0,
    "HTML::FormHandler"                            => "0.40068",
    "HTML::FormHandler::Model::DBIC"               => "0.29",
    "IO::Handle"                                   => 0,
    "IPC::Open3"                                   => 0,
    "JSON"                                         => "4.05",
    "Log::Log4perl"                                => "1.49",
    "Module::Runtime"                              => "0.015",
    "Moose"                                        => "2.2011",
    "MooseX::Daemonize"                            => "0.21",
    "MooseX::Getopt"                               => "0.72",
    "MooseX::Storage"                              => "0.52",
    "MooseX::Workers"                              => "0.24",
    "Net::NBName"                                  => "0.26",
    "Net::OpenSSH"                                 => "0.77",
    "Net::SNMP"                                    => "6.0.1",
    "POE"                                          => "1.370",
    "Plack::Middleware::ReverseProxy"              => "0.15",
    "Regexp::Common"                               => "2017060201",
    "SQL::Translator"                              => "0.11024",
    "Test::Deep"                                   => "1.128",
    "Test::More"                                   => 0,
    "Test::WWW::Mechanize::Catalyst"               => "0.60",
    "Text::CSV"                                    => "1.97",
    "YAML::Syck"                                   => "1.30",
    "namespace::autoclean"                         => "0.28"
);

# inserted by Dist::Zilla::Plugin::DynamicPrereqs 0.039
requires( 'DBD::Pg', '3.7.4' )
    if has_module( 'DBD::Pg', '3.7.4' ) ||
    prompt( 'install Postgres support? [y/N]', 'N' ) =~ /^y/i;
requires( 'DBD::mysql', '4.046' )
    if has_module( 'DBD::mysql', '4.046' ) ||
    prompt( 'install Postgres support? [y/N]', 'N' ) =~ /^y/i;

unless ( eval { ExtUtils::MakeMaker->VERSION(6.63_03) } ) {
    delete $WriteMakefileArgs{TEST_REQUIRES};
    delete $WriteMakefileArgs{BUILD_REQUIRES};
    $WriteMakefileArgs{PREREQ_PM} = \%FallbackPrereqs;
}

delete $WriteMakefileArgs{CONFIGURE_REQUIRES}
    unless eval { ExtUtils::MakeMaker->VERSION(6.52) };

WriteMakefile(%WriteMakefileArgs);

{

    package MY;
    use File::ShareDir::Install qw(postamble);
}

# inserted by Dist::Zilla::Plugin::DynamicPrereqs 0.039
sub _add_prereq {
    my ( $mm_key, $module, $version_or_range ) = @_;
    $version_or_range ||= 0;
    warn
        "$module already exists in $mm_key (at version $WriteMakefileArgs{$mm_key}{$module}) -- need to do a sane metamerge!"
        if exists $WriteMakefileArgs{$mm_key}{$module} and
        $WriteMakefileArgs{$mm_key}{$module} ne '0' and
        $WriteMakefileArgs{$mm_key}{$module} ne $version_or_range;
    warn
        "$module already exists in FallbackPrereqs (at version $FallbackPrereqs{$module}) -- need to do a sane metamerge!"
        if exists $FallbackPrereqs{$module} and
        $FallbackPrereqs{$module} ne '0' and
        $FallbackPrereqs{$module} ne $version_or_range;
    $WriteMakefileArgs{$mm_key}{$module} = $FallbackPrereqs{$module} = $version_or_range;
    return;
}

sub has_module {
    my ( $module, $version_or_range ) = @_;
    require Module::Metadata;
    my $mmd = Module::Metadata->new_from_module($module);
    return undef                  if not $mmd;
    return $mmd->version($module) if not defined $version_or_range;

    require CPAN::Meta::Requirements;
    my $req = CPAN::Meta::Requirements->new;
    $req->add_string_requirement( $module => $version_or_range );
    return 1 if $req->accepts_module( $module => $mmd->version($module) );
    return 0;
}

sub requires { goto &runtime_requires }

sub runtime_requires {
    my ( $module, $version_or_range ) = @_;
    _add_prereq( PREREQ_PM => $module, $version_or_range );
}
