name = App-Manoc
author = Gabriele Mambrini <gmambro@cpan.org>
author = Enrico Liguori
license = Perl_5
copyright_holder = Gabriele Mambrini
copyright_year = 2017

[EnsurePrereqsInstalled]
build_phase = release ; be nice to travis
type = requires


;;;;;;;;;;;;;;
;; METADATA ;;
;;;;;;;;;;;;;;

[GithubMeta]
user = ManocLabs
issues = 1

; get version from git or override it with $ENV{V}
[Git::NextVersion]

[MetaNoIndex]
dir = maint

;;;;;;;;;;;;;;;;;;
;; GATHER FILES ;;
;;;;;;;;;;;;;;;;;;

; Gather files using git (without a GatherDir plugin, dzil sees no files)
; exclude files generated by dzil itself
[Git::GatherDir]
exclude_filename = Makefile.PL
exclude_filename = LICENSE
exclude_filename = cpanfile

[ExecDir]
dir = scripts

[ShareDir]
dir = root

; Add a LICENSE file to the build.  The generated POD for each
; module will also reference this file.
[License]

; Distro released to the CPAN require a META.json/META.yml
[MetaYAML]
[MetaJSON]

; Add a MANIFEST file.
[Manifest]

; Add a test to ensure that all of the source code actually
; compiles.
[Test::Compile]
skip = App::Manoc::Manifold::SNMP::Info
skip = App::Manoc::Manifold::Telnet::IOS
skip = App::Manoc::ArpSniffer

; Test that everything has a $VERSION defined.
[Test::Version]

[Test::Perl::Critic]
critic_config = perlcritic.rc

[Test::Pod::Coverage::Configurable]
class = Pod::Coverage::TrustPod
skip = qr/^App::Manoc::Form::/
skip = qr/^App::Manoc::DataDumper::Converter::/
skip = qr/^App::Manoc::Search::/
skip = qr/^Catalyst::/
skip = App::Manoc::Manifold::SNMP::Info
skip = App::Manoc::Manifold::Telnet::IOS
skip = App::Manoc::ArpSniffer
also_private = BUILD
also_private = BUILDARGS



[PodSyntaxTests]

; Add some more tests for source code formatting.
[Test::EOL]
[Test::NoTabs]

; Assess the readiness for CPAN.
[Test::Kwalitee]
skiptest = use_strict ; Don't test for strictness.

[PerlTidy]

;;;;;;;;;;;;;;;;;
;; PRUNE FILES ;;
;;;;;;;;;;;;;;;;;

[PruneCruft]


;;;;;;;;;;;;;;;;;
;; MUNGE FILES ;;
;;;;;;;;;;;;;;;;;

; Write a $VERSION declaration into each module.
; using VersionedModules finder
[FileFinder::Filter / VersionedModules]
finder = :InstallModules
skip = \.pod$
[OurPkgVersion]
finder = VersionedModules
; Rewrite POD into complete documents.
[PodWeaver]

[NextRelease]

; move  extra tests need  into the main test dir
[ExtraTests]

;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; REGISTER PREREQUISITES ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Prereqs]
Module::Runtime = 0
Class::Load = 0
Moose = 0
namespace::autoclean = 0
Log::Log4perl = 1.46
DBI = 0
DBIx::Class = 0
DBIx::Class::EncodedColumn = 0
DBIx::Class::Tree = 0
DBIx::Class::Helpers = 0
Catalyst::Runtime = 5.9
Catalyst::Authentication::Credential::HTTP = 0
Catalyst::Plugin::ConfigLoader = 0
Catalyst::Plugin::Static::Simple = 0
Catalyst::Action::RenderView = 0
Catalyst::Plugin::StackTrace = 0
Catalyst::Plugin::Session = 0
Catalyst::Plugin::Session::Store::DBI = 0
Catalyst::Plugin::Session::State::Cookie = 0
Catalyst::Authentication::Store::DBIx::Class = 0
Catalyst::View::TT = 0
Catalyst::View::JSON = 0
Catalyst::View::CSV = 1.7
Config::General = 0
DateTime::Format::RFC3339 = 0
DBD::SQLite = 0
HTML::FormHandler = 0
HTML::FormHandler::Model::DBIC = 0
JSON::MaybeXS = 0
MooseX::Storage = 0
MooseX::Daemonize = 0
MooseX::Workers = 0
MooseX::Getopt = 0
Net::OpenSSH = 0
Net::NBName = 0
Net::SNMP = 0
Regexp::Common = 0
YAML::Syck = 0
Config::ZOMG = 1.0
SQL::Translator = 0
Crypt::Eksblowfish::Bcrypt = 0
Plack::Middleware::ReverseProxy = 0
POE = 0
Digest::SHA1 = 0
Archive::Tar = 0
Text::CSV = 0
Test::Deep = 0

[Prereqs / Recommends]
-relationship = recommends
Net::Pcap = 0
NetPacket = 0
SNMP::Info = 3.27

[Prereqs / Test]
-phase = test
Test::More = 0
Test::WWW::Mechanize::Catalyst = 0.60

; authordep Pod::Elemental::Transformer::List
; authordep Test::Pod
; authordep Test::Pod::Coverage
; authordep Pod::Coverage::Moose
; authordep Pod::Coverage::TrustPod
; authordep Test::Perl::Critic
; authordep Perl::Critic::Moose

[Prereqs / Develop ]
-phase =  develop
Catalyst::Devel = 0
Perl::Tidy = 0
Git::Wrapper = 0
Dist::Zilla = 0

[OptionalFeature / postgres ]
-description = Postgres support
-phase = runtime
-relationship = requires
DBD::Pg = 0


[OptionalFeature / mysql ]
-description = Postgres support
-phase = runtime
-relationship = requires
DBD::mysql = 0

;;;;;;;;;;;;;;;;;;;;;;;;
;; PHASE INSTALL TOOL ;;
;;;;;;;;;;;;;;;;;;;;;;;;

[ Readme ]

[ ReadmeAnyFromPod / MarkdownInRoot ]
filename = README.md

[InstallGuide]

[ManifestSkip]

[CopyFilesFromBuild]
copy = cpanfile
copy = LICENSE
copy = Makefile.PL

[CPANFile]
[MakeMaker]


;;;;;;;;;;;;;;;;;;;;
;; BEFORE RELEASE ;;
;;;;;;;;;;;;;;;;;;;;

; Ensure Changes has been updated
[CheckChangesHasContent]

[Git::Check]
allow_dirty = Changes
allow_dirty = dist.ini
allow_dirty = README.md

; Ensure that all tests pass.
[TestRelease]

; If all is well, publish the distribution.
[ConfirmRelease]
[UploadToCPAN]



;;;;;;;;;;;;;;;;;;;;
;;  AFTER RELEASE ;;
;;;;;;;;;;;;;;;;;;;;

[Git::Commit]
[Git::Tag]
[Git::Push]
