name = App-Manoc
author = Gabriele Mambrini <gmambro@cpan.org>
author = Enrico Liguori
license = Perl_5
copyright_holder = Gabriele Mambrini
copyright_year = 2017

[EnsurePrereqsInstalled]
build_phase = release ; be nice to travis
type = requires


;;;;;;;;;;;;;;
;; METADATA ;;
;;;;;;;;;;;;;;

[GithubMeta]
user = ManocLabs
issues = 1

; get version from git or override it with $ENV{V}
[Git::NextVersion]

[MetaNoIndex]
dir = maint

;;;;;;;;;;;;;;;;;;
;; GATHER FILES ;;
;;;;;;;;;;;;;;;;;;

; Gather files using git (without a GatherDir plugin, dzil sees no files)
; exclude files generated by dzil itself
[Git::GatherDir]
exclude_filename = Makefile.PL
exclude_filename = LICENSE
exclude_filename = cpanfile

[ExecDir]
dir = scripts

[ShareDir]
dir = root

; Add a LICENSE file to the build.  The generated POD for each
; module will also reference this file.
[License]

; Distro released to the CPAN require a META.json/META.yml
[MetaYAML]
[MetaJSON]

; Add a MANIFEST file.
[Manifest]

; Add a test to ensure that all of the source code actually
; compiles.
[Test::Compile]
skip = App::Manoc::Manifold::SNMP::Info
skip = App::Manoc::Manifold::Telnet::IOS
skip = App::Manoc::ArpSniffer

; Test that everything has a $VERSION defined.
[Test::Version]

[Test::Perl::Critic]
critic_config = .perlcriticrc

[Test::Pod::Coverage::Configurable]
class = Pod::Coverage::TrustPod
skip = qr/^App::Manoc::Form::/
skip = qr/^App::Manoc::DataDumper::Converter::/
skip = qr/^App::Manoc::Search::/
skip = qr/^Catalyst::/
skip = App::Manoc::Manifold::SNMP::Info
skip = App::Manoc::Manifold::Telnet::IOS
skip = App::Manoc::ArpSniffer
also_private = BUILD
also_private = BUILDARGS



[PodSyntaxTests]

; Add some more tests for source code formatting.
[Test::EOL]
[Test::NoTabs]

; Assess the readiness for CPAN.
[Test::Kwalitee]
skiptest = use_strict ; Don't test for strictness.

[PerlTidy]

;;;;;;;;;;;;;;;;;
;; PRUNE FILES ;;
;;;;;;;;;;;;;;;;;

[PruneCruft]


;;;;;;;;;;;;;;;;;
;; MUNGE FILES ;;
;;;;;;;;;;;;;;;;;

; Write a $VERSION declaration into each module.
; using VersionedModules finder
[FileFinder::Filter / VersionedModules]
finder = :InstallModules
skip = \.pod$
[OurPkgVersion]
finder = VersionedModules
; Rewrite POD into complete documents.
[PodWeaver]

[NextRelease]

; move  extra tests need  into the main test dir
[ExtraTests]

;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; REGISTER PREREQUISITES ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Prereqs]
Archive::Tar = 2.32      
Catalyst::Action::RenderView = 0.16      
Catalyst::Authentication::Credential::HTTP = 1.018     
Catalyst::Authentication::Store::DBIx::Class = 0.1506    
Catalyst::Plugin::ConfigLoader = 0.34      
Catalyst::Plugin::Session = 0.41      
Catalyst::Plugin::Session::State::Cookie = 0.17      
Catalyst::Plugin::Session::Store::DBI = 0.16      
Catalyst::Plugin::StackTrace = 0.12      
Catalyst::Plugin::Static::Simple = 0.35      
Catalyst::Runtime =  5.90123   
Catalyst::View::CSV = 1.7       
Catalyst::View::JSON = 0.36      
Catalyst::View::TT = 0.44      
Class::Load = 0.24      
Config::General = 2.63      
Config::ZOMG = 1.0
Crypt::Eksblowfish::Bcrypt = 0.009     
DateTime::Format::RFC3339 = v1.2.0    
DBD::SQLite = 1.58      
DBI = 1.641     
DBIx::Class = 0.082841  
DBIx::Class::EncodedColumn = 0.00015   
DBIx::Class::Helpers = 2.033004  
DBIx::Class::Tree = 0.03003   
Digest::SHA1 = 2.13      
HTML::FormHandler = 0.40068   
HTML::FormHandler::Model::DBIC = 0.29      
JSON = 4.05 
Log::Log4perl = 1.49      
Module::Runtime = 0.015     
Moose = 2.2011    
MooseX::Daemonize = 0.21      
MooseX::Getopt = 0.72      
MooseX::Storage = 0.52      
MooseX::Workers = 0.24      
namespace::autoclean = 0.28      
Net::NBName = 0.26      
Net::OpenSSH = 0.77      
Net::SNMP = v6.0.1    
Plack::Middleware::ReverseProxy = 0.15      
POE = 1.370
Regexp::Common = 2017060201
SQL::Translator = 0.11024   
Test::Deep = 1.128     
Text::CSV = 1.97      
YAML::Syck = 1.30      

[Prereqs / Recommends]
-relationship = recommends
Net::Pcap = 0
NetPacket = 0
SNMP::Info = 3.27

[Prereqs / Test]
-phase = test
Test::More = 0
Test::WWW::Mechanize::Catalyst = 0.60

; authordep Pod::Elemental::Transformer::List
; authordep Test::Pod
; authordep Test::Pod::Coverage
; authordep Pod::Coverage::Moose
; authordep Pod::Coverage::TrustPod
; authordep Test::Perl::Critic = 1
; authordep Perl::Critic::Moose

[Prereqs / Develop ]
-phase =  develop
Catalyst::Devel = 0
Perl::Tidy = 0
Git::Wrapper = 0
Dist::Zilla = 0

[OptionalFeature / postgres ]
-description = Postgres support
-phase = runtime
-relationship = requires
DBD::Pg = 3.7.4     

[OptionalFeature / mysql ]
-description = Postgres support
-phase = runtime
-relationship = requires
DBD::mysql = 4.046     

;;;;;;;;;;;;;;;;;;;;;;;;
;; PHASE INSTALL TOOL ;;
;;;;;;;;;;;;;;;;;;;;;;;;

[ Readme ]

[ ReadmeAnyFromPod / MarkdownInRoot ]
filename = README.md

[InstallGuide]

[ManifestSkip]

[CopyFilesFromBuild]
copy = cpanfile
copy = LICENSE
copy = Makefile.PL

[CPANFile]
[MakeMaker]


;;;;;;;;;;;;;;;;;;;;
;; BEFORE RELEASE ;;
;;;;;;;;;;;;;;;;;;;;

; Ensure Changes has been updated
[CheckChangesHasContent]

[Git::Check]
allow_dirty = Changes
allow_dirty = dist.ini
allow_dirty = README.md

; Ensure that all tests pass.
[TestRelease]

; If all is well, publish the distribution.
[ConfirmRelease]
[UploadToCPAN]



;;;;;;;;;;;;;;;;;;;;
;;  AFTER RELEASE ;;
;;;;;;;;;;;;;;;;;;;;

[Git::Commit]
[Git::Tag]
[Git::Push]
push_to = git@github.com:ManocLabs/manoc.git
